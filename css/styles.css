:root{
  --bg:#f7f5f0;
  --brick:#b85b3b; /* ladrillo de tejar */
  --masonry:#d9cdbd; /* mampostería clara */
  --accent:#8b3a2b; /* teja más oscura */
  --text:#222;
  --muted:#666;
  --primary:#8b3a2b;
  --focus: #ffaa33;
  --max-width:1100px;
  --gap:1rem;
  /* altura por defecto del header (mobile-first). Usar para compensar contenido y anchors */
  --header-height:72px;
  /* Theme variables (Light mode defaults) */
  --color-fondo-principal: #ffffff;
  --color-texto-principal: #1A1A1A;
  --color-header-fondo: #ffffff;
  --color-enlace-acento: #8b3a2b; /* ocre/rojo terroso */
  --color-bordes-lineas: #dddddd;
  --color-noticia-fondo: #f8f8f8;
  --color-card-bg: #ffffff;
}

/* Dark mode: override theme variables when .dark-mode is present on root (html or body) */
.dark-mode{
  --color-fondo-principal: #121212;
  --color-texto-principal: #e0e0e0;
  --color-header-fondo: #1e1e1e;
  --color-enlace-acento: #bb86fc; /* tono de acento para modo oscuro */
  --color-bordes-lineas: #333333;
  --color-noticia-fondo: #2c2c2c;
  --color-card-bg: #181818;
  --muted: #bdbdbd;
  /* reduce sombras en modo oscuro */
  --shadow-elevation: 0 1px 3px rgba(0,0,0,0.6);
}

/* Use the dark-mode shadow variable where appropriate */
.card{box-shadow:var(--shadow-elevation,0 1px 4px rgba(0,0,0,0.06));}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--color-fondo-principal);color:var(--color-texto-principal);}
.container{max-width:var(--max-width);margin:0 auto;padding:1rem}
.header-top{display:flex;justify-content:space-between;align-items:center;padding:0.5rem 0}
.logo{font-weight:700;color:var(--accent);text-decoration:none;font-size:1.1rem}
.main-nav .menu{list-style:none;margin:0;padding:1rem;display:none;flex-direction:column;gap:1rem;position:fixed;inset:var(--header-height) 0 0 0;background:#fff;overflow:auto;z-index:1001}
.main-nav a{color:var(--color-texto-principal);text-decoration:none;padding:.6rem 0;display:block}
.nav-toggle{display:inline-block;background:transparent;border:none;font-size:1.1rem;padding:.4rem;margin-left:.5rem}
.nav-toggle[aria-expanded="true"]{opacity:0.9}
.site-header{position:fixed;top:0;width:100%;z-index:1000;background:var(--color-header-fondo);box-shadow:0 2px 6px rgba(0,0,0,0.08);padding:12px 0}
.site-header .container{display:flex;align-items:center;gap:.5rem}
.site-header .logo{margin-right:1rem}

/* cuando se hace scroll aplicamos clase .scrolled para reducir altura */
.site-header.scrolled{padding:6px 0}

/* compensar el main para que no quede oculto por el header fijo */
.site-header.scrolled{padding:6px 0}

/* compensar el main para que no quede oculto por el header fijo (móvil) */
main.container{padding-top:var(--header-height)}
/* indicar al navegador cuanto espacio reservar cuando se hace scroll-to/anchor */
html{scroll-padding-top:calc(var(--header-height) + 8px)}
.hero{background:linear-gradient(90deg, rgba(139,58,43,0.08), rgba(216,198,180,0.04));padding:2rem 0;border-top:4px solid var(--masonry)}
.hero h1{margin:0 0 .5rem}
.quick-actions{display:flex;gap:.5rem;margin-top:1rem;flex-wrap:wrap}
.btn{display:inline-block;padding:.6rem 1rem;border-radius:6px;background:transparent;border:2px solid var(--primary);color:var(--primary);text-decoration:none}
.btn.primary{background:var(--primary);color:#fff}

.card{background:var(--color-card-bg);border-radius:8px;padding:1rem;margin:1rem 0;box-shadow:0 1px 4px rgba(0,0,0,0.06)}
.two-col{display:grid;grid-template-columns:1fr;gap:1rem}
.team-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}
.news-feed{display:grid;gap:.75rem}
.news-item{padding:0.75rem;border-left:4px solid var(--brick);background:var(--color-noticia-fondo)}
.news-item h3{margin:.25rem 0}
.news-item h3{margin:.25rem 0}

.site-footer{padding:1rem 0;margin-top:2rem;border-top:1px solid var(--color-bordes-lineas);text-align:center;color:var(--muted)}

/* Images responsive */
img{max-width:100%;height:auto;display:block}
.gallery figure{margin:0 0 1rem 0}
.companies-grid{display:grid;grid-template-columns:1fr;gap:1rem}


/* Responsive */
@media (min-width:768px){
  /* Tablet: horizontal menu, two-column layouts */
  /* ajustar altura del header en tablet */
  :root{ --header-height:84px; }
  .nav-toggle{display:none}
  .main-nav .menu{display:flex;flex-direction:row;position:static;background:transparent;padding:0;gap:1rem}
  .two-col{grid-template-columns:1fr 300px}
  .news-feed{grid-template-columns:repeat(2,1fr)}
  .companies-grid{grid-template-columns:repeat(2,1fr)}
  main.container{padding-top:var(--header-height)}
}

/* Mostrar menú móvil cuando .main-nav está abierto mediante clase */
.main-nav.open .menu{
  display:flex;
  flex-direction:column;
  /* ocupar todo el espacio por debajo del header */
  inset:var(--header-height) 0 0 0;
  transform-origin:top;
  animation:menu-slide 180ms ease-out;
}

@keyframes menu-slide{
  from{opacity:0;transform:translateY(-6px)}
  to{opacity:1;transform:translateY(0)}
}

/* Evitar scroll del body cuando el menú está abierto (se aplica por JS añadiendo .nav-open al body) */
body.nav-open{overflow:hidden}

@media (min-width:1025px){
  /* Desktop: full navigation, denser grids */
  /* ajustar altura del header en desktop */
  :root{ --header-height:96px; }
  .main-nav .menu{gap:1.25rem}
  .news-feed{grid-template-columns:repeat(3,1fr)}
  .companies-grid{grid-template-columns:repeat(3,1fr)}
  .two-col{grid-template-columns:1fr 320px}
  .container{padding:1.25rem}
  main.container{padding-top:var(--header-height)}
}

/* Accessibility */
a:focus,button:focus{outline:3px solid var(--focus);outline-offset:2px}

/* Header search styles */
.header-search{display:flex;align-items:center;gap:.5rem;margin-left:auto}
.header-search input{display:block;border:1px solid var(--color-bordes-lineas);background:transparent;color:var(--color-texto-principal);padding:.4rem .6rem;border-radius:6px;min-width:160px}
.header-search button{background:transparent;border:none;font-size:1rem;padding:.4rem}
.header-search .search-toggle{display:none}

/* utility for accessibility */
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

/* Mobile: show toggle icon and hide input until expanded */
@media (max-width:767px){
  .header-search{gap:.25rem}
  .header-search input{display:none}
  .header-search button[type="submit"]{display:none}
  .header-search .search-toggle{display:inline-block}
  .header-search.open input{display:block}
  .header-search.open button[type="submit"]{display:inline-block}
}

/* Ensure search respects dark mode colors */
.dark-mode .header-search input{background:transparent;color:var(--color-texto-principal);border-color:var(--color-bordes-lineas)}

/* Search bar placeholder styles (if implemented) */
.search{display:flex;gap:.5rem}
.search input{flex:1;padding:.5rem;border:1px solid #ddd;border-radius:6px}

/* Calendario mensual básico */
.monthly-calendar{background:#fff;padding:1rem;border-radius:8px;margin-top:1rem}
.calendar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}
.calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px}
.calendar-cell{min-height:80px;padding:.5rem;border:1px solid rgba(0,0,0,0.06);border-radius:6px;background:linear-gradient(180deg, rgba(217,205,189,0.02), transparent)}
.calendar-cell{min-height:80px;padding:.5rem;border:1px solid var(--color-bordes-lineas);border-radius:6px;background:var(--color-card-bg)}
.calendar-cell .date{font-weight:600;font-size:.9rem}
.calendar-cell .events{margin-top:.25rem;font-size:.85rem;color:var(--muted)}
.calendar-nav button{background:transparent;border:1px solid #ddd;padding:.4rem .6rem;border-radius:6px}
.calendar-weekdays{display:grid;grid-template-columns:repeat(7,1fr);font-weight:600;margin-bottom:.25rem}
.calendar-weekdays div{text-align:center;font-size:.85rem;color:var(--muted)}
